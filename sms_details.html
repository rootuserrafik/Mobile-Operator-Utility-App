<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMS Service Details</title>

    <!-- Google Fonts: Poppins and Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" />

    <style>
        :root {
            --page-background: #FFFFFF;
            --primary-text: #212121;
            --input-label-text: #424242;
            --input-border: #CCCCCC;
            --preview-bg: #F4F6F8;
            --cta-button-bg: #0077C2;
            --cta-button-text: #FFFFFF;
            --result-success-text: #2E7D32;
            --result-error-text: #D32F2F;
            --input-radius: 8px;
            --spacing-unit: 16px;
            --element-spacing: 12px;
        }

        body {
            margin: 0;
            padding: 0 var(--spacing-unit) 80px var(--spacing-unit);
            background-color: var(--page-background);
            font-family: 'Roboto', sans-serif;
            color: var(--primary-text);
        }

        .page-title {
            font-family: 'Poppins', sans-serif;
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-text);
            text-align: center;
            margin: var(--spacing-unit) 0;
        }
        
        .input-label {
            font-family: 'Roboto', sans-serif;
            font-size: 14px;
            font-weight: 500;
            color: var(--input-label-text);
            display: block;
            margin-bottom: 8px;
        }

        .preview-text {
            font-family: 'Roboto', sans-serif;
            font-size: 14px;
            color: var(--input-label-text);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .send-button-text {
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: var(--cta-button-text);
        }

        .result-text {
            font-family: 'Roboto', sans-serif;
            font-size: 14px;
        }
        
        .form-group.hidden {
            display: none;
        }

        .text-input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--input-border);
            border-radius: var(--input-radius);
            font-size: 16px;
            box-sizing: border-box;
            margin-bottom: var(--spacing-unit);
        }
        
        .text-input:focus {
            outline: 2px solid var(--cta-button-bg);
            border-color: var(--cta-button-bg);
        }

        .message-preview-box {
            background-color: var(--preview-bg);
            border-radius: var(--input-radius);
            padding: var(--spacing-unit);
            margin-bottom: var(--spacing-unit);
            min-height: 60px;
        }

        .send-sms-button {
            width: 100%;
            background-color: var(--cta-button-bg);
            border: none;
            padding: 14px;
            border-radius: var(--input-radius);
            box-shadow: 0 4px 12px rgba(0, 119, 194, 0.3);
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        
        .send-sms-button:active {
            opacity: 0.8;
        }
        
        .result-box {
            display: none; 
            margin-top: var(--spacing-unit);
            padding: var(--element-spacing);
            border-radius: var(--input-radius);
            text-align: center;
        }

        .result-box.active {
            display: block;
        }
        
        .result-box.success {
            color: var(--result-success-text);
            background-color: #E8F5E9;
        }

        .result-box.error {
            color: var(--result-error-text);
            background-color: #FFEBEE;
        }

        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background-color: white; box-shadow: 0 -2px 10px rgba(0,0,0,0.07); display: flex; justify-content: space-around; padding: 8px 0; border-top: 1px solid #eee; }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #666; text-decoration: none; flex-grow: 1; font-size: 12px; }
        .nav-item .material-symbols-outlined { font-size: 24px; margin-bottom: 4px; }
        .nav-item.active { color: var(--cta-button-bg); }
    </style>
</head>
<body>

    <header>
        <h1 class="page-title" id="page-title">SMS Service</h1>
    </header>

    <main>
        <!-- Dynamic Form Area -->
        <section class="form-container">
            <div id="form-nid" class="form-group hidden">
                <label for="nid-number" class="input-label">Enter NID Number</label>
                <input type="number" id="nid-number" class="text-input" placeholder="e.g., 1991234567890">
            </div>

            <div id="form-sim" class="form-group hidden">
                <label for="reg-number" class="input-label">Enter Number to Check</label>
                <input type="tel" id="reg-number" class="text-input" placeholder="e.g., 01700000000">
            </div>

            <div id="form-transfer" class="form-group hidden">
                <label for="transfer-number" class="input-label">Recipient's Number</label>
                <input type="tel" id="transfer-number" class="text-input" placeholder="e.g., 01700000000">
                <label for="transfer-amount" class="input-label">Amount</label>
                <input type="number" id="transfer-amount" class="text-input" placeholder="e.g., 10">
            </div>
        </section>

        <!-- Message Preview -->
        <div class="message-preview-box">
            <label class="input-label">Message Preview:</label>
            <p class="preview-text" id="message-preview"></p>
        </div>

        <!-- Send Button -->
        <button class="send-sms-button" id="send-button">
            <span class="send-button-text">Send SMS</span>
        </button>

        <!-- Result Box -->
        <div class="result-box" id="result-box">
            <p class="result-text" id="result-message"></p>
        </div>
    </main>
    
    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="home.html" class="nav-item"><span class="material-symbols-outlined">home</span>Home</a>
        <a href="offers.html" class="nav-item"><span class="material-symbols-outlined">local_offer</span>Offers</a>
        <a href="sms.html" class="nav-item active"><span class="material-symbols-outlined">send_to_mobile</span>SMS</a>
        <a href="dial_codes.html" class="nav-item"><span class="material-symbols-outlined">dialer_sip</span>Dial</a>
        <a href="settings.html" class="nav-item"><span class="material-symbols-outlined">settings</span>Settings</a>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const pageTitle = document.getElementById('page-title');
            const preview = document.getElementById('message-preview');
            const sendButton = document.getElementById('send-button');
            const resultBox = document.getElementById('result-box');
            const resultMessage = document.getElementById('result-message');

            const urlParams = new URLSearchParams(window.location.search);
            const service = urlParams.get('service');

            const services = {
                'nid': {
                    title: 'NID Check',
                    formId: 'form-nid',
                    recipient: '105',
                    format: (inputs) => `NID ${inputs[0]} `,
                    inputs: ['nid-number']
                },
                'sim': {
                    title: 'SIM Info',
                    formId: 'form-sim',
                    recipient: '1600',
                    format: (inputs) => `INFO ${inputs[0]} `,
                    inputs: ['reg-number']
                },
                'transfer': {
                    title: 'Balance Transfer',
                    formId: 'form-transfer',
                    recipient: '1000',
                    format: (inputs) => `TR ${inputs[0]} ${inputs[1]} `,
                    inputs: ['transfer-number', 'transfer-amount']
                }
            };

            const activeService = services[service];

            if (activeService) {
                pageTitle.textContent = activeService.title;
                const form = document.getElementById(activeService.formId);
                form.classList.remove('hidden');

                const inputElements = activeService.inputs.map(id => document.getElementById(id));

                function updatePreview() {
                    const inputValues = inputElements.map(el => el.value.trim());
                    const message = activeService.format(inputValues);
                    preview.textContent = `To: ${activeService.recipient}\nMessage: ${message}`;
                }

                inputElements.forEach(input => {
                    input.addEventListener('input', updatePreview);
                });

                sendButton.addEventListener('click', () => {
                    resultMessage.textContent = 'SMS sent successfully! Awaiting response.';
                    resultBox.className = 'result-box active success';
                    setTimeout(() => {
                        resultBox.classList.remove('active');
                    }, 4000);
                });

                updatePreview();
            }
        });
    </script>
</body>
</html>